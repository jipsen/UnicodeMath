<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta charset="utf-8">
    <title>MathInput: Typing Math Unicode in a browser</title>
<meta charset="utf-8">
<!--link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"
    onload="renderMathInElement(document.body,{delimiters: [{left: '$$', right: '$$', display: true},{left: '$', right: '$', display: false},]});"></script-->
<script src="mathinput.js"></script>
<script>window.onload = function () {new MathInput("INPUT");}</script>
<style> .katex { font-size: 1.1em; } body { margin: 100px; font-family: "STIXGeneral";}</style>
</head>

<body>
<h1>MathInput: Typing Math Unicode in a browser</h1>
<p>Typing mathematical symbols in a browser is easy if you know LaTeX: try "\"+LaTeX commands followed by [space].
    This feature is enabled by 50 lines of JavaScript plus a customizable list of symbols and their names 
    (see the code below). On a mobile device you can also use "z"+LaTeX rather than "\".</p>

<textarea id="INPUT" style="height: 5in; width: 100%; font-family: 'STIXGeneral'; font-size: 24pt;">
A âŠ† B âŸº âˆ€x (x âˆˆ A âŸ¹ x âˆˆ B)
Typed with: A \su  B \if  \f  x (x \i  A \im  x \i  B)
Now try typing:
lim_(xâ†’a) f(x) = L âŸº âˆ€É›>0 âˆƒÎ´>0 âˆ€x (0<|x-a|<Î´ âŸ¹ |f(x)-L|<É›)</textarea>
<hr>
<pre>
function MathInput(id) {
    tbox = document.getElementById(id);
    pdate = new Date();
    tbox.onkeyup = function (evt) {
        if (!evt) {evt = window.event;}
        ndate = new Date();
        if (ndate.getTime() > pdate.getTime() + 150) {
            var kc = evt.keyCode;
            if (kc == 16 || kc == 32) MIsearchSymbols(tbox);
            pdate = ndate;
        }
    };
}

MIselectRange = function (tbox, beg, len) {
    if (tbox.createTextRange) { //IE
        var rng = tbox.createTextRange();
        rng.moveStart("character", beg);
        rng.moveEnd("character", len);
        rng.select();
    } else if (tbox.setSelectionRange) {
        tbox.setSelectionRange(beg, len);
    }
    tbox.focus();
};

MItriggerChar1 = "\\"
MItriggerChar2 = "z"

MIsearchSymbols = function (tbox) {
    var b = tbox.selectionStart;
    var e = tbox.selectionEnd;
    var st = tbox.value;
    var p = st.slice(0, b).lastIndexOf(MItriggerChar1);
    if (p==-1 || /\W/.test(st.slice(p+1,b-1))) p = st.slice(0, b).lastIndexOf(MItriggerChar2);
    if (p >= 0 && p+1 < b && !(/\W/.test(st.slice(p+1,b-1)))) { // \W = any non-word char
        var bl = (st.slice(b-1, b)==" ")                        // blank typed at end of symbol name
        if ((bl && p+2!=b) || !(/\W/.test(st.slice(b-1, b)))) {
            var stValue = st.slice(p+1, bl?b-1:b);
            for (var i=0; i < MIsymbols.length && MIsymbols[i].indexOf(stValue) != 0; i++) {}
            if (i < MIsymbols.length) {
                var name = bl?MIsymbols[i].slice(-1):MIsymbols[i];
                if (st.slice(b-1, b)==" ") {
                    tbox.value = st.slice(0,p) + name.slice(-1) + st.slice(e);
                    MIselectRange(tbox, p+1, p+1); //place cursor after character
                } else {
                    tbox.value = st.slice(0,b) + name.slice(b-p-1) + st.slice(e);
                    MIselectRange(tbox, b, e+name.length-b+p+1); //highlight name completion
                }
            }
        }
    }
};

MIsymbols = [
    'alpha Î±',
    'adots â‹°',
    'aleph â„µ',
    'amalg â¨¿',
      'and âˆ§',
    'angle âˆ ',
    'Angle â¦œ',
   'approx â‰ˆ',
     'beta Î²',
   'barcap â©ƒ',
   'barcup â©‚',
   'barvee âŠ½',
 'barwedge âŠ¼',
     'BbbA ð”¸',
     'beth â„¶',
   'bigcap â‹‚',
   'bigcup â‹ƒ',
  'bigodot â¨€',
 'bigoplus â¨',
'bigotimes â¨‚',
 'bigsqcap â¨…',
 'bigsqcup â¨†',
  'bigstar â˜…',
 'bigtimes â¨‰',
 'biguplus â¨ƒ',
 'biguplus â¨„',
   'bigvee â‹',
 'bigwedge â‹€',
 'Booleans ð”¹',
      'bot âŠ¥',
   'bowtie â‹ˆ',
   'bullet â€¢',
     'cdot â‹…',
   'cap âˆ©',
     'cbrt âˆ›',
    'cdots â‹¯',
'checkmark âœ“',
      'chi Ï‡',
     'circ âˆ˜',
 'clubsuit â™£',
'complement âˆ',
  'Complex â„‚',
     'cong â‰…',
   'coprod âˆ',
      'cup âˆª',
    'delta Î´',
   'dagger â€ ',
    'ddots â‹±',
   'degree Â°',
      'del âˆ‡',
    'Delta Î”',
'diamondsuit â™¢',
      'div Ã·',
 'dotminus âˆ¸',
'downarrow â†“',
'Downarrow â‡“',
'downzigzagarrow â†¯',
  'epsilon Ïµ',
      'ell â„“',
 'emptyset âˆ…',
    'equiv â‰¡',
      'eta Î·',
     'euro â‚¬',
   'exists âˆƒ',
   'forall âˆ€',
    'False ð”½',
     'flat â™­',
'fourthroot âˆœ',
    'frown âŒ¢',
    'Gamma Î“',
    'gamma Î³',
       'ge â‰¥',
     'geqq â‰§',
       'gg â‰«',
     'hbar Ä§',
'heartsuit â™¡',
'hookrightarrow â†ª',
       'in âˆˆ',
      'iff âŸº',
    'iiint âˆ­',
     'iint âˆ¬',
       'Im â„‘',
  'implies âŸ¹',
    'infty âˆž',
      'int âˆ«',
 'Integers â„¤',
    'kappa Îº',
   'lambda Î»',
   'Lambda Î›',
     'land âˆ§',
   'langle âŸ¨',
    'lceil âŒˆ',
    'ldots â€¦',
       'le â‰¤',
'leftarrow â†',
'Leftarrow â‡',
'leftrightarrow â†”',
'Leftrightarrow â‡”',
     'leqq â‰¦',
   'lfloor âŒŠ',
       'll â‰ª',
'llbracket âŸ¦',
'Longleftarrow âŸ¸',
      'lor âˆ¨',
  'lozenge â—Š',
   'ltimes â‹‰',
   'mapsto â†¦',
 'mapsfrom â†¤',
     'mbfA ð€',
 'mbffrakA ð•¬',
    'mbfit ð‘¨',
'mbfitsansA ð˜¼',
 'mbfsansA ð—”',
  'mbfscrA ð“',
   'mfrakA ð”„',
      'mid âˆ£',
 'minusdot â¨ª',
     'mitA ð´',
 'mitsansA ð˜ˆ',
       'mp âˆ“',
   'msansA ð– ',
    'mscrA ð’œ',
     'mttA ð™°',
       'mu Î¼',
      'not Â¬',
 'Naturals â„•',
       'ne â‰ ',
      'neg Â¬',
  'nexists âˆ„',
      'nge â‰±',
     'ngtr â‰¯',
       'ni âˆ‹',
      'nle â‰°',
    'nless â‰®',
     'nmid âˆ¤',
    'notin âˆ‰',
    'notni âˆŒ',
'nparallel âˆ¦',
    'nprec âŠ€',
  'nsubset âŠ„',
'nsubseteq âŠˆ',
    'nsucc âŠ',
  'nsupset âŠ…',
'nsupseteq âŠ‰',
       'nu Î½',
   'nvdash âŠ¬',
   'nvDash âŠ­',
    'omega Ï‰',
  'obslash â¦¸',
     'odot âŠ™',
   'oiiint âˆ°',
    'oiint âˆ¯',
     'oint âˆ®',
    'Omega Î©',
   'ominus âŠ–',
    'oplus âŠ•',
   'otimes âŠ—',
       'or âˆ¨',
   'oslash âŠ˜',
  'partial âˆ‚',
 'parallel âˆ¥',
      'Phi Î¦',
      'phi Ï•',
       'Pi Î ',
       'pi Ï€',
       'pm Â±',
     'prec â‰º',
   'preceq âª¯',
   'Primes â„™',
     'prod âˆ',
   'propto âˆ',
      'psi Ïˆ',
      'Psi Î¨',
      'qed âˆŽ',
'rightarrow â†’',
   'rangle âŸ©',
'Rationals â„š',
    'rceil âŒ‰',
       'Re â„œ',
    'Reals â„',
   'rfloor âŒ‹',
      'rho Ï',
'Rightarrow â‡’',
'rightarrowtail â†£',
'rrbracket âŸ§',
   'rtimes â‹Š',
    'sigma Ïƒ',
    'sharp â™¯',
    'Sigma Î£',
      'sim âˆ¼',
    'smile âŒ£',
'spadesuit â™ ',
    'sqcap âŠ“',
    'sqcup âŠ”',
     'sqrt âˆš',
 'sqsubset âŠ',
'sqsubseteq âŠ‘',
 'sqsupset âŠ',
'sqsupseteq âŠ’',
   'square â–¡',
     'sube âŠ†',
   'subset âŠ‚',
 'subseteq âŠ†',
'subsetneq âŠŠ',
     'succ â‰»',
   'succeq âª°',
      'sum âˆ‘',
     'supe âŠ‡',
   'supset âŠƒ',
 'supseteq âŠ‡',
'supsetneq âŠ‹',
      'tau Ï„',
   'tensor âŠ—',
'therefore âˆ´',
    'theta Î¸',
    'Theta Î˜',
    'times Ã—',
       'to â†’',
      'top âŠ¤',
'triangleleft â—ƒ',
'triangleright â–¹',
     'True ð•‹',
'twoheadrightarrow â† ',
  'uparrow â†‘',
  'Uparrow â‡‘',
'updownarrow â†•',
'Updownarrow â‡•',
    'uplus âŠŽ',
  'upsilon Ï…',
'varepsilon É›',
   'varphi Ï†',
 'vartheta Ï‘',
    'vdash âŠ¢',
    'vDash âŠ¨',
    'Vdash âŠ©',
      'vee âˆ¨',
    'wedge âˆ§',
       'wp â„˜',
       'wr â‰€',
       'Xi Îž',
       'xi Î¾',
     'zeta Î¶'];
    </pre>
<hr>
<p align="center">
<small>Peter Jipsen --- February 2019 --- Chapman University</small>
</p>
</body>
</html>
